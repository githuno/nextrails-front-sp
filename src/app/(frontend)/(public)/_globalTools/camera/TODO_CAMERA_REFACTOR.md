# GlobalTool Camera リファクタリング & 機能拡張ロードマップ

## 1. ユーザー体験の洗練 (Advanced UX)
- [ ] **フィードバックの強化**
    - [ ] **撮影音 (Shutter Sound)**: 撮影成功時のオーディオフィードバック
    - [ ] **触覚フィードバック (Haptic)**: ボタン押下時やQR検知時の微細なバイブレーション
    - [ ] **水平器 (Leveler)**: 加速度センサを使用した撮影時の傾き補正ガイド
- [ ] **撮影補助機能**
    - [ ] **グリッド線 (Grid Lines)**: 三分割法などの構図ガイド表示
    - [ ] **セルフタイマー**: 3秒/10秒のカウントダウン撮影
    - [ ] **バースト撮影**: 長押しによる連続撮影モード
- [ ] **エラー表示の高度化**
    - [ ] カメラ権限拒否時の「設定アプリへの誘導」UI
    - [ ] 非対応ブラウザでのフォールバック案内

## 2. ハードウェア制御の極致 (Device Control)
- [ ] **プロ設定 (MediaTrackCapabilities)**
    - [ ] **ズーム (Zoom)**: ピンチイン/アウト、およびUIスライダーによる倍率制御
    - [ ] **マニュアルフォーカス**: タップした位置へのフォーカスロック
    - [ ] **露出補正**: 上下スワイプによる明るさ調整
    - [ ] **ライト制御 (Torch)**: フラッシュの常時点灯/自動切替
- [ ] **ストリーム最適化**
    - [ ] **解像度セレクター**: 通信環境に応じた 4K/HD/SD の動的切り替え
    - [ ] **ミラーリング反転**: 前面カメラ時の左右反転設定のユーザー制御
    - [ ] **アスペクト比固定**: 1:1 (SNS用), 16:9, 4:3 などのフレーム切り替え

## 3. WebViewer & 外部連携の進化 (Connectivity)
- [ ] **WebViewer のブラウザ化**
    - [ ] **ナビゲーション**: WebView 内の「戻る」「進む」「更新」ボタンの追加
    - [ ] **進捗表示**: ページ読み込み中のプログレスバー表示
    - [ ] **共有機能**: 表示中のURLを端末の共有メニューへ飛ばす
- [ ] **スキャン履歴 (Scan History)**
    - [ ] 過去にスキャンしたQRコード/URLの履歴一覧と再アクセス機能
- [ ] **アクション注入の具体化**
    - [ ] `onSync` 時のバッチ処理ロジック (Notion DB への一括アップロード)
    - [ ] ギャラリー選択 (`onSelect`) 時のファイルバリデーション

## 4. 高度な画像処理 (Intelligence)
- [ ] **リアルタイム・パイプライン**
    - [ ] **バーコード拡張**: JAN/EAN, Code128, PDF417 等の複数規格対応
    - [ ] **OCR連携**: 撮影したドキュメントからテキストを自動抽出するプレビュー
    - [ ] **ドキュメントスキャン**: 四角い紙を検知して自動で台形補正・クロップ
- [ ] **Web Worker への完全オフロード**
    - [ ] メインスレッドをブロックしない、極めて滑らかなQRスキャンループ

## 5. 堅牢性とパフォーマンス (Reliability)
- [ ] **メモリ管理の徹底**
    - [ ] 大量撮影時のメモリ消費監視と Blob URL の自動開放ロジック
- [ ] **デバイス・レジリエンス**
    - [ ] カメラ使用中のバックグラウンド移行/復帰時のストリーム自動リカバリ
    - [ ] デバイス名表示の親切化（"Camera 1" ではなく "背面メインカメラ" 等への変換）

---
*実装済み項目（削除済み）: QRスキャン、ImageViewer、セット名編集、プロキシ経由WebView、シャッターアニメーション、前面/背面切り替え、同期/ギャラリーアクションの口*